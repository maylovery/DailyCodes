<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>three</title>
    <script src="./jquery-1.12.4.min.js"></script>
</head>
<body>
    <!-- val方法 -->
    <section class="section1">
        <input type="button" value="呵呵" id="btn">
        <input type="text" value="洋酒" id="txt">
    </section>
    <hr>

    <!-- html() 和 text() -->
    <section class="section2">
            <div>
                <h3>我是标题</h3>
            </div>
    </section>
    <hr>
    
    <!-- width() / height() 方法 -->
    <section class="section3">
            <div></div>
    </section>
    <hr>
    
    <!-- scrollTop与scrollLeft -->
    <section class="section4"></section>
    <hr>
    
    <!-- 固定导航案例 -->
    <section class="section5">
            <div class="top" id="topPart">
                <img src="images/top.png" alt=""/>
            </div>
            <div class="nav" id="navBar">
                <img src="images/nav.png" alt=""/>
            </div>
            <div class="main" id="mainPart">
                <img src="images/main.png" alt=""/>
            </div>
    </section>
    <hr>
    
    <!-- Jquery事件机制 -->
    <section class="section6">
        <!--点击按钮，在div里面创建一个新的p元素-->
        <input type="button" value="按钮" id="btn">
        <div id="box">
            <div>
                <span>呵呵</span>
                <p>11111</p>
                <p>22222</p>
                <p>33333</p>
                <p>44444</p>
            </div>
        </div>
    </section>
    <hr>
    
    <!-- 事件的执行顺序 -->
    <section class="section7">
        <input type="button" value="增加" id="btn">
        <div>
            <p>111111</p>
            <p>111111</p>
            <p>111111</p>
            <p>111111</p>
        </div>
    </section>
    <hr>
    
    <!-- 删除表格中的一行 或清空 添加 -->
    <section class="section8"></section>
    <hr>
    
    <!-- 移除事件 触发事件 -->
    <section class="section9">
        <input type="button" value="触发" id="btn">
        <p>我是一个p元素</p>
    </section>
    <hr>
    
    <!--  事件对象 -->
    <section class="section10">
        <div>这是一个div</div>
        <p>这是一个p元素</p>
    </section>
    <hr>
    
    <!-- 阻止冒泡和阻止浏览器的默认行为 -->
    <section class="section11">
        <a href="https://www.baidu.com" id="link">去百度</a>
    </section>
    <hr>
    
    <!-- delay 的用法 -->
    <section class="section12">
        <div>这个一个提示消息</div>
        <div>这个一个提示消息</div>
    </section>
    <hr>
    
    <!-- 链式编程 -->
    <section class="section13">
         <div></div>
    </section>
    <hr>
    
    <!-- 五星评分案例 -->
    <section class="section14">
        <ul class="comment">
            <li>☆</li>
            <li>☆</li>
            <li>☆</li>
            <li>☆</li>
            <li>☆</li>
        </ul>
    </section>
    <hr>
    
    <section class="section15"></section>
    <hr>
    
    <section class="section16"></section>
    <hr>
    
</body>
<script>
    $('.section5').hide()
     // val()方法
    function funn1(){
        /*
         - val() 获取input 的value
         - val('111') 给input赋值 value
        */
        // $('.section1 #txt')

        console.log($('.section1 #btn').val())  // hehe
        $('.section1 #btn').val('add')       // add

        console.log($('.section1 #btn').attr('value'))

        // 如果是默认值 清空内容
        $('.section1 #txt').focus(function(){
            
            if($('.section1 #txt').val() === '洋酒'){
                $('.section1 #txt').val('')  
            }
        })
        
        // 失去焦点的时候 如果为空 给个默认值
        $('.section1 #txt').blur(function(){
            if($('.section1 #txt').val() === ''){
                $('.section1 #txt').val('洋酒')  
            }
        })

    }

    // html() 方法 和text() 方法
    function funn2(){
        /*
        html innerHTML text:innerText
        */ 

        console.log($('.section2 div').html())   //  <h3>我是标题</h3>
        console.log($('.section2 div').text())  // 我是标题
        $('.section2 div').text('<p>我是文本</p>')  
        console.log($('.section2 div').html())   // &lt;p&gt;我是文本&lt;p&gt;  字符串

        $('.section2 div').html('<p>我是文本</p>')  
        console.log($('.section2 div').html())   // <p>我是文本</p>

    }

    // width() / height() 方法
    function funn3(){
        // .section3
        /*
         - 获取div宽度
        */
        
        // console.log($('.section3 div').css('width')) //  1150px 没有设置 默认负组件的宽度 组内样式
        // $('.section3 div').css('width','400px')
        // console.log($('.section3 div').css('width')) // 400px
        

        // 直接获取的是数字
        // console.log($('.section3 div').width()) // 400
        console.log($('.section3 div').innerWidth()) // padding+width
        console.log($('.section3 div').outerWidth()) // padding+width+border
        console.log($('.section3 div').outerWidth(true)) // padding+width+border+margin
        $(".section3 div").width(400);
        

        $(window).resize(function(){
            console.log($(window).width()) 
            console.log($(window).height()) 
        })
    }

    // scrollTop与scrollLeft  距窗口的左侧的偏移量 距离顶部的偏移量
    function funn4(){
        $('body').css('width','4000px')
        $('body').css('height','4000px')
        $(window).scroll(function(){
            console.log($(window).scrollTop())
            console.log($(window).scrollLeft())
        })
    }

    // 固定导航案例
    function funn5(){
        $('.section5').show()

        /*
        - 判断卷的高度 与 topPart的高度
        - 大于 的话navbar 固定定位
        - 设置main 有marginTop
        */ 

        if($(window).scrollTop() >= $('.top').height()){
            $('.nav').addClass('fixed')
            $('.main').css('marginTop',$('.nav').height() + 10)
        }else{
            $('.nav').removeClass('fixed')
            $('.main').css('marginTop',10)
        }

    }

    // 小火箭返回顶部案例
    function funn6(){
        /*
         当页面超出去1000px的时候，让小火箭显示出来,如果小于1000，就让小火箭隐藏

        */

        $(window).scroll(function(){
            if($(window).scrollTop() >= 1000){
                $('.actGop').stop().fadeIn(1000)
            }else{
                $('.actTop').stop().fadeOut(1000)
            }
        })
        function getScroll(){
            return {
                left:window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0,
                top:window.pageXOffset || document.documentElement.scrollTop || document.body.scrollTop || 0
            }
        }
        $('.actGotop').click(function(){
            $('html,body').stop().animate({scrollTop:0},3000)
            // screenTop 为0 
            $(window).scrollTop(0)
        })
    }

    // offset方法与position
    function funn7(){
        /*
        offset() 获取元素的相对于 document()的位置
        position()  获取元素相对于有定位的元素的位置
        */ 
        console.log($('.son').offset())
        console.log($('.son').position())
    }

    // jquery事件机制的发展历程
    function funn8(){
        // section6
        /*
         1.bind() 方式 参数是一个对象，有多个时间的name，func 
         2.click() 方法 简单事件，给自己注册的事件
         3.delegate(ele.funname,callback)
          - 给父元素注册委托事件 最终还有子元素来执行
          - 第一个参数 事件名
          - 第二个参数  回调函数
        */
       
        $('.section6 p').bind({
            // click:function(){
            //     console.log('p bind click')
            // },
            mouseenter:function(){
                console.log('p bind mouseenter')
            },
        })
        $('.section6 div').click(function(){
            console.log('selft click')
        })

        // 例子：给div 注册一个委托事件 最终不是由自己执行，而是由P执行
        $('.section6 #box').delegate('p','click',function(){
            console.log(this)      // <p>44444</p>
        }) 

    }

    // on注册事件的两种方法
    function funn9(){
        /*
         - P自己注册的事件 （简单事件）
         - P注册让别人触发
        */
        
        // 简单事件 自己注册事件
        $("#btn").on("click", function () {
            $("<p>我是新建的p元素</p>").appendTo("div");
        });

        $('div').on('click','p',function(){

        })
       
    }

    // 事件的执行顺序
    function funn10(){
        // section7
        /*
        - p自己注册事件  简单事件
        - 父级div自己执行
        - 给div 里面的p 执行委托事件
        - btn 自己注册事件 创建p添加div p无事件注册
        */
        $('.section7 p').on('click', function (){
            console.log('.section7 p -> on')
        })
        $('.section7 div').on('click',function(){
            console.log('.section7 div -> on')
        })
        
        $('.section7 div').on('click','.section7 p',function(){
            console.log('.section7 div -> (div  .section7 p))')
        })

        $('.section7 #btn').on('click',function(){
            $('<p>新创建的P元素</p>').appendTo($('.section7 div'))
        })

    }

    // 表格删除功能
    function funn11(){
        /*
         清空所有
         删除一行 
         添加 一行       
        */

        // 清空所有  empty 清空自己内部的所有组件
        $('.seciton8 clerarbtn').on('click',function(){
            $('.seciton8 #j_tbody').empty()
        })
        
        // 删除一行  删除按钮 自己删除 / 代理onbody注册 ，让删除button执行
        // 1. remove 自己从父view 中移除
        $('.seciton8 .row_dele_btn').on('click',function(){
            $(this).parent().parent().remove()
        })
        
        // 2
        $('.seciton8 #j_tbody').on('click','.seciton8 .row_dele_btn',function(){
            $(this).parent().parent().remove()
        })

        // 添加一行
        $('.seciton8 .add_button').on('click',function(){
            $('<tr> <td>jQuery111</td> <td>adddrow11</td> <td><a href="javascrip:;" class="row_dele_btn">DELETE</a></td> </tr>').appendTo("#j_tbody");
        })

    }
    
    // 移除事件绑定
    function funn12(){
        // section9
        
        $('.section9 p').on('click',function(){
            console.log('.section9 p on click')
        })
        // off 移除on的事件
        // $('.section9 p').off('click')

        // toggle切换 trigger 触发
        $('.section9 #btn').on('click',function(){
            
            // 1 直接调用函数
            $('.section9 p').click()

            // 2 使用trigger
            $('.section9 p').trigger('click')
        })

    }

    // 事件对象
    function funn13(){
        // section10
          /*
            on(types, selector, data, callback)
            data : 传入的参数  
            e.data 获取传入的参数
          */
         //  形参改变 不影响实参的值
        var money = 100;
        $('.section10 div').on('click',money,function(e){
            console.log(e);
            console.log('number:' + e.data)
        })
        money = 0;
         $('.section10 p').on('click',function(e){
            console.log("呜呜，我有"+0);
        })

    }

    // 阻止冒泡和阻止浏览器的默认行为
    function funn14(){
        // section11
        /*
        阻止 默认
        preventDefault() 阻止默认事件

        stopPropagation()   组织冒泡
        
        return false 既能阻止事件冒泡 也能阻止浏览器的默认行为
        console.log(e.cancelBubble)
        */  

       $('.section11 #link').on('click',function(e){
        //   e.preventDefault() 
        //   e.stopPropagation()
            // alert('11')  // alert之后继续跳转链接

            // return false;
            // console.log(e.cancelBubble) // undefined

       })
       $('body').on('click',function(){
           alert('112')
       })

    }
    
    // delay的用法
    function funn15(){
        $('.section12 div').css('display','block').fadeIn(1000).delay(8000).fadeOut(1000)
    }

    // 链式编程
    function funn16(){
        // 链式编程：end()
        // 设置性操作：可以链式编程
        // 获取性操作，不能链式，因为获取性操作，数值，字符串，
        // 返回值是不是一个jq对象。
        
        console.log($("div").width(200).height(200).css("backgroundColor", "pink").width());
    }

    // 五星级评分案例 
    function funn17(){
        // section14
        /*
        1 给li 注册鼠标经过事件 让自己和前面的兄弟都变实心
        2. 给ul 注册鼠标离开事件 让所有的li变成空心
          2-1. 找到current 让current和current前面的变成实心 
        4.li注册点击事件 点击的加上current class 移除其他兄弟current
        */
        var wjx_k = "☆";
        var wjx_s = "★";
        
        //li  mounseenter 之前的都变实心
        $('.section14 .comment>li').on('mounseenter',function(){
            $(this).text(wjx_s).prevAll().text(wjx_s)
            $(this).nextAll().text(wjx_k)
        })
        // li click 记录current
        $('.section14 .comment>li').on('click',function(){
            $(this).addClass('current').siblings().removeClass('current')
        })

        // ul 离开事件
        $('.section14 .comment').on('',function(){
            // 所有的li 为空心 
            $(this).children().text(wjx_k)
            
            //  Curren之前的类 -> 实心
            $('.comment>li.current').text(wjx_s).prevAll().text(wjx_s)
        })
    }

    //  each方法
    function funn18(){
       // 维数组  each (index ,element)
        $("li").each(function (index, element) {
            $(element).css("opacity", (index+1)/10);
        })
    }
    // $ 符号 和其他的框架冲突
    function funn19(){
        //jQuery释放$的控制权
        $.noConflict();
        
        jQuery(function () {
        
        });
    }
    // 
    funn17()
</script>
<style>

* {
    margin: 0;
    padding: 0
}
section {
    padding: 10px 30px;
}

.section3 div {
    width: 200px;
    height: 200px;
    background-color: red;
    padding: 10px;
    border: 10px solid #000;
    margin: 10px;
}
 /* section5 */
.section5 img {
    vertical-align: top;
}

.section5 .main {
    margin: 10px auto 0;
    width: 1000px;
}

.section5 .fixed {
    position: fixed;
    top: 0;
    left: 0;
}

.section6 #box {
    width: 300px;
    height: 300px;
    background-color: pink;
}
.section7 div {
    height: 300px;
    width: 300px;
    background-color: pink;
}
.section12 div {
    width: 400px;
    height: 60px;
    background-color: pink;
    text-align: center;
    line-height: 60px;
    font-size: 30px;
    margin: 20px auto;
    display: none;   
}
 /* section14 */
.section14 .comment {
    font-size: 40px;
    color: #ff16cf;
}
.section14 .comment li {
    float: left;
}
.section14 ul {
    list-style: none;
}

</style>
</html>